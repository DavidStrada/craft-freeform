{% css formCss %}

{% include "freeform/_defaultFormTemplates/conversational/_main.css" %}
{% import "freeform/_defaultFormTemplates/conversational/_row.twig" as rowMacro %}

{{ form.renderTag({
    attributes: {
        row: { class: "freeform-row" },
        errors: { class: "freeform-form-has-errors" },
    }
}) }}

<script>
    var form = document.querySelector('[data-id="{{ form.anchor }}"]');
    if (form) {
        form.addEventListener("freeform-stripe-styling", function (event) {
            event.detail.base = {
                fontSize: "16px",
                color: "#eaeaea",
                fontFamily: "-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"",
            }
        })
    }
</script>

{% if not form.ajaxEnabled and form.submittedSuccessfully %}
    <div class="freeform-alert freeform-alert-success">
        {{ form.settings.successMessage | t('freeform') }}
    </div>
{% endif %}

{% if form.hasErrors %}
    <div{{ form.hasErrors }}>
        {{ form.settings.behavior.errorMessage | t('freeform') }}

        {% if form.errors|length %}
            <ul>
                {% for error in form.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endif %}

{{ rowMacro.render(form.rows, form) }}

{{ form.renderClosingTag }}
