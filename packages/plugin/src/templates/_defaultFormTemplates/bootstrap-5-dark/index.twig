{% include "freeform/_defaultFormTemplates/bootstrap-5-dark/_main.css" %}
{% import "freeform/_defaultFormTemplates/bootstrap-5-dark/_row.twig" as rowMacro %}

{{ form.renderTag({
    attributes: {
        row: { class: "row" },
        errors: { class: "alert alert-danger" },
    }
}) }}

<script>
var form = document.querySelector('[data-id="{{ form.anchor }}"]');
if (form) {
    form.addEventListener("freeform-ready", function (event) {
        var freeform = event.target.freeform;

        freeform.setOption("errorClassBanner", ["alert", "alert-danger", "errors"]);
        freeform.setOption("errorClassList", ["help-block", "errors", "invalid-feedback"]);
        freeform.setOption("errorClassField", ["is-invalid", "has-error"]);
        freeform.setOption("successClassBanner", ["alert", "alert-success", "form-success"]);
    })
    // Styling for Stripe Payments field
    form.addEventListener("freeform-stripe-styling", function (event) {
        event.detail.base = {
            fontSize: "16px",
            color: "#ffffff",
            fontFamily: "-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"",
        },
        event.detail.invalid = {
            color: '#dc3545',
        }
    })
}
</script>

{% if form.pages|length > 1 %}
    <ul class="nav nav-tabs mb-4">
        {% for page in form.pages %}
            <li class="nav-item">
                <span class="nav-link{{ form.currentPage.index == page.index ? ' fw-bold active' : ' disabled' }}">{{ page.label }}</span>
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if form.hasErrors %}
    <div{{ form.attributes.errors }}>
        {{ form.settings.behavior.errorMessage | t('freeform') }}

        {% if form.errors|length %}
            <ul class="mb-0">
                {% for error in form.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endif %}

{{ rowMacro.render(form.rows, form) }}

{{ form.renderClosingTag }}
