"use strict";function _defineProperty(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}$(function(){var t=$("#status-menu-btn"),a=t.data("menubtn");a&&a.setSettings({onOptionSelect:function(a){var e=$(a).data("id"),n=$(a).data("name"),s=$(a).data("color"),r=$("#status-menu-select");$("#statusId").val(e);var i="<span class='status "+s+"'></span>"+Craft.uppercaseFirst(n);t.html(i),r.find("li a.sel").removeClass("sel"),r.find("li a[data-id="+e+"]").addClass("sel")}});var e=$("form#asset_download");$("#content").on({click:function(){var t=$(this).data(),a=t.assetId;$("input[name=assetId]",e).val(a),e.submit()}},"a[data-asset-id]");var n=$("#tabs a.tab");n.on({click:function(){var t=$(this);return t.parent().siblings().find(".tab.sel").removeClass("sel"),t.addClass("sel"),$(".tab-content").addClass("hidden"),$(".tab-content[data-for-tab="+t.data("tab-id")+"]").removeClass("hidden"),!1}}),$("canvas[data-image]").each(function(){var t=$(this)[0],a=new window.Image;a.addEventListener("load",function(){t.getContext("2d").drawImage(a,0,0)}),a.setAttribute("src",$(this).data("image"))});var s=$(".download-signature-links");$("a[data-type]",s).on("click",function(t){var a=$(this).parents(".signature-wrapper").find("canvas:first")[0],e=$(this).data("type"),n=document.createElement("a");return n.download="signature.".concat(e),n.href=a.toDataURL("image/".concat(e)).replace("image/".concat(e),"image/octet-stream"),n.click(),!1}),$("#export-btn").remove(),$("#delete-button").on("click",function(){if(confirm(Craft.t("freeform","Are you sure you want to delete this?"))){$(this).attr("disabled",!0).addClass("disabled").text("Deleting...");var t=$(this).data("id");$.ajax({type:"post",url:Craft.getCpUrl("freeform/spam/delete"),dataType:"json",data:_defineProperty({id:t},Craft.csrfTokenName,Craft.csrfTokenValue),success:function(t){t.success?window.location.href=Craft.getCpUrl("freeform/spam"):console.error("Could not delete spam submission")}})}})});