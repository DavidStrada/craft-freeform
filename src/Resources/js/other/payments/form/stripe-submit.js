"use strict";!function(){function e(e){var r;return"function"==typeof Event?r=new Event(e):(r=document.createEvent("Event"),r.initEvent(e,!0,!0)),r}var r,t,n,o,a,c="#VARIABLES#",u=c.zeroDecimalCurrencies,i=c.id,l=c.formAnchor,m=c.currencySelector,d=c.currencyFixed,s=c.usage,f=c.amountSelector,p=c.amountFixed,v=c.publicKey,y=document.querySelector('form[data-id="'.concat(l,'"]')),E=!1;if(!y||!y.freeform)return console.error("Could not attach payments to Freeform plugin"),!1;y.freeform.addOnSubmitCallback(function(){if(!Freeform.paymentsScript)return console.log("Stripe scripts not loaded yet"),y.freeform.unlockSubmit(),!1;if(E)return!0;y.freeform._removeMessages();var t;if(f){var o=y.querySelector(f);t=o?o.value:p}else t=p;var a;if(m){var c=y.querySelector(m);a=c?c.value:d}else a=d;var l={type:"card",amount:t,currency:a,usage:s};if(l.amount){var v=u.indexOf(l.currency),S=v>=0?1:100;l.amount=t*S}return r.createSource(n,l).then(function(r){return r.error?(y.freeform._renderFormErrors([r.error.message+(r.error.param?" - "+r.error.param:"")]),void y.freeform.unlockSubmit()):(document.getElementById(i).value=r.source.id,E=!0,y.freeform.unlockSubmit(),void y.dispatchEvent(e("submit")))}),!1}),y.addEventListener("reset",function(){n&&n.clear(),a&&a.clear(),o&&o.clear()},!1);var S=function(){var c=i+"_card_number",u=i+"_card_cvc",l=i+"_card_expiry",m=document.getElementById(c),d=document.getElementById(u),s=document.getElementById(l),f=m.attributes.placeholder,p=s.attributes.placeholder,S=d.attributes.placeholder,h={},g=e("freeform-stripe-styling");g.detail=h,y.dispatchEvent(g),r=Stripe(v),t=r.elements(),n=t.create("cardNumber",{placeholder:f?f.value:"",style:h}),o=t.create("cardExpiry",{placeholder:p?p.value:"",style:h}),a=t.create("cardCvc",{placeholder:S?S.value:"",style:h}),n.mount("#"+c),o.mount("#"+l),a.mount("#"+u);var b=function(){E=!1};n.on("change",b),o.on("change",b),a.on("change",b)};if(Freeform.paymentsScript)Freeform.paymentsScript.addEventListener("load",S);else{var h=document.createElement("script");h.addEventListener("load",S),h.src="https://js.stripe.com/v3/",document.body.appendChild(h),Freeform.paymentsScript=h}}();