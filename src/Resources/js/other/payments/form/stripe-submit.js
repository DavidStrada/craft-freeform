"use strict";!function(){var e,r,t,a,n,o=JSON.parse("{variables}"),c=o.zeroDecimalCurrencies,u=o.id,l=o.formAnchor,m=o.currencySelector,i=o.currencyFixed,d=o.usage,s=o.amountSelector,f=o.amountFixed,p=o.publicKey,v=document.querySelector('form[data-id="'.concat(l,'"]')),y=!1;if(!v||!v.freeform)return console.error("Could not attach payments to Freeform plugin"),!1;v.freeform.addOnSubmitCallback(function(){if(!Freeform.paymentsScript)return console.log("Stripe scripts not loaded yet"),v.freeform.unlockSubmit(),!1;if(y)return!0;v.freeform._removeMessages();var r;if(s){var a=v.querySelector(s);r=a?a.value:f}else r=f;var n;if(m){var o=v.querySelector(m);n=o?o.value:i}else n=i;var l={type:"card",amount:r,currency:n,usage:d};if(l.amount){var p=c.indexOf(l.currency),S=p>=0?1:100;l.amount=r*S}return e.createSource(t,l).then(function(e){return e.error?(v.freeform._renderFormErrors([e.error.message+(e.error.param?" - "+e.error.param:"")]),void v.freeform.unlockSubmit()):(document.getElementById(u).value=e.source.id,y=!0,v.freeform.unlockSubmit(),void v.dispatchEvent(new Event("submit")))}),!1}),v.addEventListener("reset",function(){t&&t.clear(),n&&n.clear(),a&&a.clear()},!1);var S=function(){var o=u+"_card_number",c=u+"_card_cvc",l=u+"_card_expiry",m=document.getElementById(o),i=document.getElementById(c),d=document.getElementById(l),s=m.attributes.placeholder,f=d.attributes.placeholder,S=i.attributes.placeholder,h={},b=new CustomEvent("freeform-stripe-styling",{detail:h});v.dispatchEvent(b),e=Stripe(p),r=e.elements(),t=r.create("cardNumber",{placeholder:s?s.value:"",style:h}),a=r.create("cardExpiry",{placeholder:f?f.value:"",style:h}),n=r.create("cardCvc",{placeholder:S?S.value:"",style:h}),t.mount("#"+o),a.mount("#"+l),n.mount("#"+c);var g=function(){y=!1};t.on("change",g),a.on("change",g),n.on("change",g)};if(Freeform.paymentsScript)Freeform.paymentsScript.addEventListener("load",S);else{var h=document.createElement("script");h.addEventListener("load",S),h.src="https://js.stripe.com/v3/",document.body.appendChild(h),Freeform.paymentsScript=h}}();