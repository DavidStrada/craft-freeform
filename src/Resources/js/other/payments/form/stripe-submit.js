"use strict";!function(){var e,r,t,n,o,a="#VARIABLES#",c=a.zeroDecimalCurrencies,u=a.id,l=a.formAnchor,m=a.currencySelector,i=a.currencyFixed,d=a.usage,s=a.amountSelector,f=a.amountFixed,p=a.publicKey,v=document.querySelector('form[data-id="'.concat(l,'"]')),y=!1;if(!v||!v.freeform)return console.error("Could not attach payments to Freeform plugin"),!1;v.freeform.addOnSubmitCallback(function(){if(!Freeform.paymentsScript)return console.log("Stripe scripts not loaded yet"),v.freeform.unlockSubmit(),!1;if(y)return!0;v.freeform._removeMessages();var r;if(s){var n=v.querySelector(s);r=n?n.value:f}else r=f;var o;if(m){var a=v.querySelector(m);o=a?a.value:i}else o=i;var l={type:"card",amount:r,currency:o,usage:d};if(l.amount){var p=c.indexOf(l.currency),S=p>=0?1:100;l.amount=r*S}return e.createSource(t,l).then(function(e){return e.error?(v.freeform._renderFormErrors([e.error.message+(e.error.param?" - "+e.error.param:"")]),void v.freeform.unlockSubmit()):(document.getElementById(u).value=e.source.id,y=!0,v.freeform.unlockSubmit(),void v.dispatchEvent(new Event("submit")))}),!1}),v.addEventListener("reset",function(){t&&t.clear(),o&&o.clear(),n&&n.clear()},!1);var S=function(){var a=u+"_card_number",c=u+"_card_cvc",l=u+"_card_expiry",m=document.getElementById(a),i=document.getElementById(c),d=document.getElementById(l),s=m.attributes.placeholder,f=d.attributes.placeholder,S=i.attributes.placeholder,h={},E=new CustomEvent("freeform-stripe-styling",{detail:h});v.dispatchEvent(E),e=Stripe(p),r=e.elements(),t=r.create("cardNumber",{placeholder:s?s.value:"",style:h}),n=r.create("cardExpiry",{placeholder:f?f.value:"",style:h}),o=r.create("cardCvc",{placeholder:S?S.value:"",style:h}),t.mount("#"+a),n.mount("#"+l),o.mount("#"+c);var g=function(){y=!1};t.on("change",g),n.on("change",g),o.on("change",g)};if(Freeform.paymentsScript)Freeform.paymentsScript.addEventListener("load",S);else{var h=document.createElement("script");h.addEventListener("load",S),h.src="https://js.stripe.com/v3/",document.body.appendChild(h),Freeform.paymentsScript=h}}();